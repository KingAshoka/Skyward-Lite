package Arrays;

import java.util.Scanner;

public class SkywardCode {
	private String dummy = "";
	private String[] username = { "TikaKude", "halepash000", "caiton000", "kulkaamo000", "sharmkar000" };
	private String[] password = { "MasterPassword", "correcthorsebatterystaple", "Tr0ub4dor", "mtgisgreat", "2239" };
	private int[] grades = { 90, 95, 98, 100 };
	private int[] totalpoints = { 100, 100, 100, 100 };
	private int[] attendance = new int[5];
	private String[] block1 = { "POE", "AP Stats", "French 3", "AP Calc" };
	private String[] block2 = { "Spanish 4", "AP Chem", "AP Chem", "Chem X" };
	private String[] block3 = { "AP Chem", "APUSH", "APUSH", "Comp for College" };
	private String[] block4 = { "AP Comp Sci A", "AP Comp Sci A", "AP Bio", "AP Comp Sci A" };

	private String user, pass; // these are the username and password that the user inputs
	private int count, access; // this is the loop counter and differentiates between a teacher and student

	Scanner reader = new Scanner(System.in);

	public void Schedule(int user) {
		int student = 0, choice = 0;
		if (access == 0) { // if teacher
			System.out.println("Choose a student to view the schedule of: ");
			for (count = 1; count < 4; count++) {
				System.out.println(count + ": " + username[count]); // this creates a list of the usernames
			}
			student = reader.nextInt();
			Schedule(student);
			do {
				System.out.println("What would you like to do with " + username[student] + "'s schedule?");
				System.out.println("1: Replace Class");
				System.out.println("2: View Grades in class");
				System.out.println("3: Quit");
				choice = reader.nextInt();
			} while (1 <= choice && choice >= 3);
			switch (choice) {
			case 1:
				System.out.println("Which class would you like to replace?");
				System.out.println("Block 1: " + block1[student - 1]);
				System.out.println("Block 2: " + block2[student - 1]);
				System.out.println("Block 3: " + block3[student - 1]);
				System.out.println("Block 4: " + block4[student - 1]);
				choice = reader.nextInt();
				System.out.println("Enter the new class instead");
				switch (choice) {
				case 1:
					dummy = reader.nextLine();
					block1[student - 1] = reader.nextLine();
					break;
				case 2:
					dummy = reader.nextLine();
					block2[student - 1] = reader.nextLine();
					break;
				case 3:
					dummy = reader.nextLine();
					block3[student - 1] = reader.nextLine();
					break;
				case 4:
					dummy = reader.nextLine();
					block4[student - 1] = reader.nextLine();
					break;
				}
				break;
			case 2:

				break;
			case 3:
				Choice();
				break;
			}

		} else { // if student
			System.out.println(username[access] + "'s schedule is ");
			System.out.println("Block 1: " + block1[access - 1]);
			System.out.println("Block 2: " + block2[access - 1]);
			System.out.println("Block 3: " + block3[access - 1]);
			System.out.println("Block 4: " + block4[access - 1]);
			System.out.println();
			Choice();
		}
	}

	public void Choice() {
		// Method to allow user to choose an action to take
		while (true) {
			int choice = 0; // Resets choice variable each time
			while (true) {
				if (choice <= 0 || choice > 5) { // Forces user to stay within bounds
					System.out.println("Enter choice of corresponding operation (1-4)");
					System.out.println("1: Attendance");
					System.out.println("2: Schedule");
					System.out.println("3: Grades");
					System.out.println("4: Logout");
					System.out.println("5: Quit");
					choice = reader.nextInt();
				} else {
					break; // Leaves while loop
				}
			}

			switch (choice) {
			// Change method names as needed
			case 1:
				// Goes to attendance method if choice = 1
				Attendance();
				break;
			case 2:
				// Goes to schedule method if choice = 2
				Schedule(access);
				break;
			case 3:
				// Goes to grades method if choice = 3
				// Grade();
				break;
			case 4:
				// Goes back to login method and "logs out" of current user
				dummy = reader.nextLine();
				/*
				 * For some reason, when pressing enter, it gets carried over to Login method.
				 * We need this dummy string in order to allow for the username to work.
				 */
				Login();
				break;
			case 5:
				// Exits program if choice = 5
				System.exit(0);
			}

		}
	}

	public void UpdateAttendance(int student) {
		// General method to easily change the attendance of the student
		if (attendance[student] == 0) {
			// If value of attendance array for imported student number is 0, prints out
			// present
			System.out.println("present.");
		}
		if (attendance[student] == 1) {
			// If value of attendance array for imported student number is 1, prints out
			// tardy
			System.out.println("tardy.");
		}
		if (attendance[student] == 2) {
			// If value of attendance array for imported student number is 2, prints out
			// absent
			System.out.println("absent.");
		}
	}

	public void Attendance() {
		// Method to track attendance. Teacher can change students and students can view
		if (access == 0) {
			// If person is the teacher
			for (count = 1; count < 5; count++) {
				// Goes through each person, excluding teacher, and prints out attendance
				System.out.print(username[count] + " is ");
				UpdateAttendance(count); // Goes to Update Attendance method for that person
			}
			while (true) {
				// Loops this forever until they go back to choice
				int student = 0, where = 0; // Initalizes variables for method and resets them each time.
				do {
					// Lists choices for attendance and forces person to choose legitimate number
					System.out.println(); // Adds some spacing
					System.out.println("Enter student number or go back");
					System.out.println("1: halepash000");
					System.out.println("2: caiton000");
					System.out.println("3: kulkaamo000");
					System.out.println("4: mengsha000");
					System.out.println("5: Quit");
					student = reader.nextInt();
				} while (student < 1 || student > 5); // Loops continuously until person uses right number

				if (student == 5) {
					// If they chose 5, will go back to choices menu
					Choice();
				} else {
					do {
						// Prompts user to change attendance for specific student
						System.out.println("How would you like to edit attendance for " + username[student] + "?");
						System.out.println("1: Present");
						System.out.println("2: Tardy");
						System.out.println("3: Absent");
						where = reader.nextInt();
					} while (where < 1 || where > 3); // Forces user to stay within bounds

					switch (where) {
					case 1:
						// Assigns number for student's position as 0 (Present)
						attendance[student] = 0;
						break;
					case 2:
						// Assigns number for student's position as 1 (Tardy)
						attendance[student] = 1;
						break;
					case 3:
						// Assigns number for student's position as 2 (Absent)
						attendance[student] = 2;
						break;
					}

					for (count = 1; count < 5; count++) {
						// Reprints out updated attendance
						System.out.print(username[count] + " is ");
						UpdateAttendance(count); // Goes to Update Attendance method to change their attendance
					}

				}
			}

		} else {
			System.out.print("You (" + username[access] + ") are "); // Prints out student's personal attendance if is a
																		// student
			UpdateAttendance(access); // Goes to update attendance method to check for any changes in attendance
			Choice(); // Goes back to choice
		}
	}

	public void Login() {
		int allow = 0; // this determines if the user can access their account

		do {
			System.out.print("Username: ");
			user = reader.nextLine();
			System.out.print("Password: ");
			pass = reader.nextLine();
			for (count = 0; count < 5; count++) {
				if (user.equals(username[count])) {
					if (pass.equals(password[count])) {
						access = count;
						allow = 1; // this ends the loop
						System.out.println("Welcome, " + username[access]);
					} else {
						System.out.println("Mismatched password \n"); // \n is a return
					}
				} else {
					if (allow == 0 && count == 4 && user.equals(username[count]) == false) { // these conditions are so
																								// that the
						System.out.println("Wrong username or password \n"); // wrong message isn't printed out five
																				// times
					}
				}
			}
		} while (allow == 0);
	}
}
